---
title: PTA团体天梯赛║L1-049 天梯赛座位分配
date: 2021-02-05  16:57:17
updated: 2021-02-05  16:57:17
tags: PTA
categories: PTA刷题笔记
description:
---

# PTA 团体天梯赛║**L1-049 天梯赛座位分配**

## 一、题目要求

天梯赛每年有大量参赛队员，要保证同一所学校的所有队员都不能相邻，分配座位就成为一件比较麻烦的事情。为此我们制定如下策略：假设某赛场有 N 所学校参赛，第 i 所学校有 M[i] 支队伍，每队 10 位参赛选手。令每校选手排成一列纵队，第 i+1 队的选手排在第 i 队选手之后。从第 1 所学校开始，各校的第 1 位队员顺次入座，然后是各校的第 2 位队员…… 以此类推。如果最后只剩下 1 所学校的队伍还没有分配座位，则需要安排他们的队员隔位就坐。本题就要求你编写程序，自动为各校生成队员的座位号，从 1 开始编号。

### 输入格式：

输入在一行中给出参赛的高校数 N （不超过 100 的正整数）；第二行给出 N 个不超过 10 的正整数，其中第 i 个数对应第 i 所高校的参赛队伍数，数字间以空格分隔。

### 输出格式：

从第 1 所高校的第 1 支队伍开始，顺次输出队员的座位号。每队占一行，座位号间以 1 个空格分隔，行首尾不得有多余空格。另外，每所高校的第一行按“#X”输出该校的编号 X，从 1 开始。

### 输入样例：

```in
3
3 4 2
```

### 输出样例：

```out
#1
1 4 7 10 13 16 19 22 25 28
31 34 37 40 43 46 49 52 55 58
61 63 65 67 69 71 73 75 77 79
#2
2 5 8 11 14 17 20 23 26 29
32 35 38 41 44 47 50 53 56 59
62 64 66 68 70 72 74 76 78 80
82 84 86 88 90 92 94 96 98 100
#3
3 6 9 12 15 18 21 24 27 30
33 36 39 42 45 48 51 54 57 60
```

## 二、解题思路

让每个学校的学生排成一排，为每个座位安排学生。num[i] 是第 i 个学校的队伍数，id_school[i] 是第 i 个座位上坐的是哪个学校的学生。

每把椅子依次从学生面前走过，如果这个学校还有学生未被安排，则安排座位给学生，安排方案如下：

如果此前一个座位的学生不是本校的，则将该作为安排给此校学生，并标记这把椅子被该校学生坐了；如果此前的一个座位是本校学生，则将此学生安排在后一个座位上，并标记后一个座位被该校学生坐了。

设置 flag 标志，如果所有学生都被安排，则可退出。

## 三、代码

```cpp
#include <bits/stdc++.h>
using namespace std;

int main() {
    int n, cnt = 1, num[101] = {0}, id_school[10001] = {0};
    cin >> n;
    vector< vector<int> > v(n+1);
    for(int i=1; i<=n; i++) {
        cin >> num[i];
    }
    while(1) {
        bool flag = 1;
        for(int i=1; i<v.size(); i++) {
            if(v[i].size() < num[i]*10) {
                if(id_school[cnt-1] != i) {
                    id_school[cnt] = i;
                    v[i].push_back(cnt);
                    cnt++;
                }
                else {
                    id_school[cnt+1] = i;
                    v[i].push_back(cnt+1);
                    cnt+=2;
                }
                flag = 0;
            }
        }
        if(flag) break;
    }

    for(int i=1; i<v.size(); i++) {
        printf("#%d\n",i);
        for(int j=0; j<v[i].size(); j++) {
            if(j !=0 && j % 10 != 0) cout << " ";
            if(j !=0 && j % 10 == 0) cout << endl;
            cout << v[i][j];
        }
        cout << endl;
    }

    return 0;
}
```

## 四、反思总结

解题思路参考柳诺大神的想法，以后还要好好琢磨再看这道题目！